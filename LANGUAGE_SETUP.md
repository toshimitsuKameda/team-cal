# OAuth認証画面を日本語にする方法

## Google OAuth同意画面の言語設定

### オプション1: アプリ名を日本語にする

1. Google Cloud Console → 「OAuth同意画面」
2. 「編集」をクリック
3. アプリ名を日本語に変更：
   - 英語: `Team Calendar`
   - 日本語: `チームカレンダー`
4. アプリの説明（オプション）:
   ```
   チームメンバーのカレンダーの空き状況を表示する拡張機能
   ```
5. 「保存」

### オプション2: 多言語対応を設定

Google OAuth同意画面では、複数言語のアプリ情報を設定できる場合があります：

1. OAuth同意画面の編集ページ
2. 「追加の言語を設定」または「Localize」セクション
3. 日本語を追加

**注意**: すべてのGoogle Cloudプロジェクトで多言語設定が利用できるわけではありません。

## Chromeブラウザの言語設定

### ステップ1: 優先言語を日本語にする

1. Chromeの設定を開く: `chrome://settings/languages`
2. 「優先する言語」セクション
3. 日本語（日本）が最上位にあることを確認
4. なければ「言語を追加」→「日本語」→「表示順序を変更」で一番上に

### ステップ2: Chrome UIを日本語にする

1. `chrome://settings/languages`
2. 「このブラウザのUIの表示言語」
3. 「日本語」を選択
4. Chromeを再起動

## Googleアカウントの言語設定

Googleアカウント自体の言語も影響します：

1. https://myaccount.google.com/language にアクセス
2. 「優先言語」を「日本語」に設定
3. 保存

## 認証画面の表示言語の仕組み

Google OAuth認証画面は以下の優先順位で言語を決定します：

1. **リクエストパラメータ**（`hl=ja`など）- 最優先
2. **ブラウザの言語設定**
3. **Googleアカウントの言語設定**
4. **OAuth同意画面のデフォルト言語**

## 拡張機能からの言語指定（高度）

Chrome拡張機能から直接言語を指定することは、`chrome.identity.getAuthToken()`では困難ですが、
将来的に`chrome.identity.launchWebAuthFlow()`を使用する場合は、URLに`hl=ja`パラメータを追加できます。

**現在のMVP実装では、ブラウザとアカウントの言語設定に依存します。**

## トラブルシューティング

### 日本語にならない場合

1. Chromeを完全に再起動
2. Googleアカウントからログアウト→再ログイン
3. 拡張機能を再読み込み
4. キャッシュとCookieをクリア:
   - `chrome://settings/clearBrowserData`
   - 「Cookieと他のサイトデータ」をチェック
   - 「データを削除」

### それでも英語の場合

Googleのシステム側の問題の可能性があります。機能的には問題ありませんので、
そのまま使用しても大丈夫です。

## まとめ

最も効果的な方法：
1. ✅ Chromeの優先言語を日本語にする
2. ✅ Googleアカウントの言語を日本語にする
3. ✅ OAuth同意画面のアプリ名を日本語にする

これらを設定することで、ほとんどの場合、認証画面が日本語で表示されます。
