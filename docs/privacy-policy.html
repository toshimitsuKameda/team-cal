<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>プライバシーポリシー - Team Calendar Switcher</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Helvetica Neue", "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif;
            line-height: 1.8;
            color: #333;
            background-color: #f8f9fa;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
            background-color: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            min-height: 100vh;
        }

        header {
            border-bottom: 3px solid #4285f4;
            padding-bottom: 20px;
            margin-bottom: 40px;
        }

        h1 {
            font-size: 2.2em;
            color: #202124;
            margin-bottom: 10px;
        }

        .last-updated {
            color: #5f6368;
            font-size: 0.95em;
        }

        h2 {
            font-size: 1.6em;
            color: #202124;
            margin-top: 40px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e8eaed;
        }

        h3 {
            font-size: 1.3em;
            color: #202124;
            margin-top: 30px;
            margin-bottom: 15px;
        }

        p {
            margin-bottom: 15px;
        }

        ul, ol {
            margin-left: 25px;
            margin-bottom: 20px;
        }

        li {
            margin-bottom: 10px;
        }

        strong {
            color: #202124;
            font-weight: 600;
        }

        .section {
            margin-bottom: 30px;
        }

        .highlight {
            background-color: #e8f0fe;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .icon-list {
            list-style: none;
            margin-left: 0;
        }

        .icon-list li {
            padding-left: 30px;
            position: relative;
        }

        .icon-list li::before {
            position: absolute;
            left: 0;
            font-size: 1.2em;
        }

        .check::before {
            content: "✅";
        }

        .cross::before {
            content: "❌";
        }

        code {
            background-color: #f1f3f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: "Courier New", monospace;
            font-size: 0.9em;
        }

        pre {
            background-color: #f1f3f4;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
        }

        pre code {
            background: none;
            padding: 0;
        }

        a {
            color: #1a73e8;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        footer {
            margin-top: 60px;
            padding-top: 30px;
            border-top: 2px solid #e8eaed;
            text-align: center;
            color: #5f6368;
            font-size: 0.9em;
        }

        .contact {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px 15px;
            }

            h1 {
                font-size: 1.8em;
            }

            h2 {
                font-size: 1.4em;
            }

            h3 {
                font-size: 1.2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>プライバシーポリシー</h1>
            <p class="last-updated"><strong>最終更新日: 2025年10月1日</strong></p>
        </header>

        <main>
            <section class="section">
                <h2>はじめに</h2>
                <p>Team Calendar Switcher（以下「本拡張機能」）は、Googleカレンダーと連携してチームのカレンダーを簡単に切り替えられるChrome拡張機能です。本プライバシーポリシーは、本拡張機能がどのようにデータを収集、使用、保護するかを説明します。</p>
            </section>

            <section class="section">
                <h2>データの収集と使用</h2>
                
                <h3>収集するデータ</h3>
                <p>本拡張機能は、以下のデータを収集・使用します:</p>
                
                <ol>
                    <li>
                        <strong>Googleアカウント情報</strong>
                        <ul>
                            <li>メールアドレス</li>
                            <li>目的: ユーザー認証とカレンダーアクセスの識別</li>
                        </ul>
                    </li>
                    <li>
                        <strong>Googleカレンダーデータ</strong>
                        <ul>
                            <li>カレンダーのリスト（カレンダー名、ID）</li>
                            <li>空き/予定あり情報（Free/Busy情報）</li>
                            <li>目的: チームメンバーの空き状況を表示</li>
                        </ul>
                    </li>
                    <li>
                        <strong>ユーザー設定</strong>
                        <ul>
                            <li>チーム名</li>
                            <li>チームメンバーのメールアドレスとニックネーム</li>
                            <li>目的: ユーザーが作成したチーム設定の保存</li>
                        </ul>
                    </li>
                </ol>

                <h3>データの保存場所</h3>
                <ul>
                    <li><strong>ローカルストレージ</strong>: チーム設定は<code>chrome.storage.sync</code>に保存されます（Googleアカウントに紐づいて同期）</li>
                    <li><strong>メモリキャッシュ</strong>: 空き/予定あり情報は一時的にブラウザのメモリにキャッシュされます（最大60秒、ページリロードで消去）</li>
                    <li><strong>外部サーバー</strong>: 本拡張機能は独自のサーバーを使用せず、すべての処理はブラウザ内で完結します</li>
                </ul>
            </section>

            <section class="section">
                <h2>データの使用目的</h2>
                <p>収集したデータは以下の目的でのみ使用されます:</p>
                <ol>
                    <li>チームメンバーのカレンダー空き状況の表示</li>
                    <li>カレンダーの自動切り替え機能の提供</li>
                    <li>チーム設定の保存と同期</li>
                    <li>拡張機能の動作に必要な認証処理</li>
                </ol>
            </section>

            <section class="section">
                <h2>データの共有</h2>
                <div class="highlight">
                    <p>本拡張機能は、収集したデータを以下の通り扱います:</p>
                    <ul class="icon-list">
                        <li class="check"><strong>第三者への共有なし</strong>: 収集したデータは第三者と共有されません</li>
                        <li class="check"><strong>外部送信なし</strong>: データは外部サーバーに送信されません</li>
                        <li class="check"><strong>Google API経由のみ</strong>: カレンダーデータへのアクセスはGoogle Calendar API経由でのみ行われます</li>
                        <li class="check"><strong>ブラウザ内処理</strong>: すべてのデータ処理はユーザーのブラウザ内で完結します</li>
                    </ul>
                </div>
            </section>

            <section class="section">
                <h2>必要な権限</h2>
                <p>本拡張機能は以下の権限を要求します:</p>

                <h3>1. identity</h3>
                <ul>
                    <li><strong>目的</strong>: Google OAuth認証を使用してGoogleアカウントにログイン</li>
                    <li><strong>使用方法</strong>: ユーザーの同意を得てアクセストークンを取得</li>
                </ul>

                <h3>2. storage</h3>
                <ul>
                    <li><strong>目的</strong>: チーム設定の保存</li>
                    <li><strong>使用方法</strong>: <code>chrome.storage.sync</code>にチーム設定を保存し、デバイス間で同期</li>
                </ul>

                <h3>3. tabs</h3>
                <ul>
                    <li><strong>目的</strong>: Googleカレンダーのタブと連携</li>
                    <li><strong>使用方法</strong>: カレンダーページでの拡張機能の動作に必要</li>
                </ul>

                <h3>4. Host Permissions: https://www.googleapis.com/*</h3>
                <ul>
                    <li><strong>目的</strong>: Google Calendar APIへのアクセス</li>
                    <li><strong>使用方法</strong>: カレンダーデータの取得と更新</li>
                </ul>

                <h3>5. Host Permissions: https://calendar.google.com/*</h3>
                <ul>
                    <li><strong>目的</strong>: Googleカレンダーページでの拡張機能の表示</li>
                    <li><strong>使用方法</strong>: カレンダーページにUIを挿入</li>
                </ul>
            </section>

            <section class="section">
                <h2>OAuth スコープ</h2>
                <p>本拡張機能は以下のOAuthスコープを要求します:</p>

                <h3>1. https://www.googleapis.com/auth/calendar</h3>
                <ul>
                    <li><strong>目的</strong>: カレンダーの表示/非表示の切り替え</li>
                    <li><strong>詳細</strong>: チーム切り替え時にメンバーのカレンダーを自動的に表示</li>
                </ul>

                <h3>2. https://www.googleapis.com/auth/calendar.freebusy</h3>
                <ul>
                    <li><strong>目的</strong>: 空き/予定あり情報の取得</li>
                    <li><strong>詳細</strong>: チームメンバーの空き状況を表示するヒートマップの生成</li>
                </ul>

                <h3>3. https://www.googleapis.com/auth/userinfo.email</h3>
                <ul>
                    <li><strong>目的</strong>: ユーザーのメールアドレスの取得</li>
                    <li><strong>詳細</strong>: ユーザー認証の識別</li>
                </ul>
            </section>

            <section class="section">
                <h2>データのセキュリティ</h2>
                <p>本拡張機能は、以下のセキュリティ対策を実施しています:</p>
                <ul>
                    <li><strong>HTTPS通信</strong>: すべてのAPI通信は暗号化されたHTTPS経由で行われます</li>
                    <li><strong>トークンの安全な管理</strong>: OAuthトークンはChromeのセキュアストレージに保存されます</li>
                    <li><strong>最小権限の原則</strong>: 必要最小限の権限とスコープのみを要求します</li>
                    <li><strong>定期的なセキュリティレビュー</strong>: コードの定期的なセキュリティ監査を実施します</li>
                </ul>
            </section>

            <section class="section">
                <h2>データの保持期間</h2>
                <ul>
                    <li><strong>チーム設定</strong>: ユーザーが拡張機能をアンインストールするまで保持</li>
                    <li><strong>空き/予定あり情報のキャッシュ</strong>: 最大60秒間保持（自動的に期限切れ）</li>
                    <li><strong>認証トークン</strong>: ユーザーがログアウトまたは拡張機能をアンインストールするまで保持</li>
                </ul>
            </section>

            <section class="section">
                <h2>ユーザーの権利</h2>
                <p>ユーザーは以下の権利を有します:</p>

                <h3>データの削除</h3>
                <p>以下の方法でデータを削除できます:</p>
                <ol>
                    <li>
                        <strong>チーム設定の削除</strong>:
                        <ul>
                            <li>拡張機能のUIからチームを個別に削除</li>
                        </ul>
                    </li>
                    <li>
                        <strong>すべてのデータの削除</strong>:
                        <ul>
                            <li><code>chrome://extensions/</code>で拡張機能の「データを削除」をクリック</li>
                            <li>または、拡張機能をアンインストール</li>
                        </ul>
                    </li>
                </ol>

                <h3>アクセス権限の取り消し</h3>
                <p>以下の方法でアクセス権限を取り消せます:</p>
                <ol>
                    <li><a href="https://myaccount.google.com/permissions" target="_blank">Googleアカウントのセキュリティページ</a>にアクセス</li>
                    <li>"Team Calendar"を探してクリック</li>
                    <li>"アクセス権を削除"をクリック</li>
                </ol>
            </section>

            <section class="section">
                <h2>Cookieとトラッキング</h2>
                <div class="highlight">
                    <p>本拡張機能は:</p>
                    <ul class="icon-list">
                        <li class="cross">Cookieを使用しません</li>
                        <li class="cross">トラッキングを行いません</li>
                        <li class="cross">広告を表示しません</li>
                        <li class="cross">アナリティクスを使用しません</li>
                    </ul>
                </div>
            </section>

            <section class="section">
                <h2>子どもの個人情報</h2>
                <p>本拡張機能は、13歳未満の子どもから意図的に個人情報を収集しません。</p>
            </section>

            <section class="section">
                <h2>プライバシーポリシーの変更</h2>
                <p>本プライバシーポリシーは、必要に応じて更新される場合があります。重大な変更がある場合は、拡張機能の更新ノートでユーザーに通知します。</p>
            </section>

            <section class="section">
                <h2>お問い合わせ</h2>
                <div class="contact">
                    <p>プライバシーに関するご質問やご懸念がある場合は、以下までご連絡ください:</p>
                    <p><strong>連絡先</strong>: <a href="mailto:toshimitsu.kameda@kameda-hi.co.jp">toshimitsu.kameda@kameda-hi.co.jp</a></p>
                </div>
            </section>

            <section class="section">
                <h2>技術的な詳細（開発者向け）</h2>
                
                <h3>データフロー</h3>
                <pre><code>ユーザー
  ↓
Chrome拡張機能
  ↓
Google Calendar API (HTTPS)
  ↓
ブラウザのメモリ/ストレージ</code></pre>

                <h3>ストレージの内容例</h3>
                <pre><code>{
  "teams": [
    {
      "id": "uuid-v4",
      "name": "開発チーム",
      "members": [
        {
          "email": "user@example.com",
          "nickname": "山田太郎"
        }
      ]
    }
  ]
}</code></pre>

                <h3>キャッシュの実装</h3>
                <pre><code>// TTL: 60秒
const cache = new Map&lt;string, {
  data: FreeBusyData,
  timestamp: number
}&gt;();</code></pre>
            </section>
        </main>

        <footer>
            <p><strong>本プライバシーポリシーに同意することで、上記の内容を理解し、受け入れたものとみなされます。</strong></p>
            <p style="margin-top: 20px;">© 2025 Team Calendar Switcher</p>
        </footer>
    </div>
</body>
</html>

