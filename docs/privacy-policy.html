<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>プライバシーポリシー - Team Calendar Switcher</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Helvetica Neue", "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif;
            line-height: 1.5;
            color: #333;
            background-color: #f8f9fa;
            font-size: 14px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 24px 20px;
            background-color: white;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            min-height: 100vh;
        }

        header {
            border-bottom: 2px solid #4285f4;
            padding-bottom: 12px;
            margin-bottom: 20px;
        }

        h1 {
            font-size: 1.75em;
            color: #202124;
            margin-bottom: 6px;
        }

        .last-updated {
            color: #5f6368;
            font-size: 0.85em;
        }

        h2 {
            font-size: 1.3em;
            color: #202124;
            margin-top: 24px;
            margin-bottom: 10px;
            padding-bottom: 6px;
            border-bottom: 1px solid #e8eaed;
        }

        h3 {
            font-size: 1.1em;
            color: #202124;
            margin-top: 16px;
            margin-bottom: 8px;
            font-weight: 600;
        }

        p {
            margin-bottom: 10px;
        }

        ul, ol {
            margin-left: 20px;
            margin-bottom: 10px;
        }

        li {
            margin-bottom: 4px;
        }

        li ul, li ol {
            margin-top: 4px;
            margin-bottom: 4px;
        }

        strong {
            color: #202124;
            font-weight: 600;
        }

        .section {
            margin-bottom: 20px;
        }

        .highlight {
            background-color: #e8f0fe;
            padding: 12px 16px;
            border-radius: 6px;
            margin: 12px 0;
        }

        .highlight p {
            margin-bottom: 8px;
        }

        .icon-list {
            list-style: none;
            margin-left: 0;
        }

        .icon-list li {
            padding-left: 24px;
            position: relative;
            margin-bottom: 6px;
        }

        .icon-list li::before {
            position: absolute;
            left: 0;
            font-size: 1em;
        }

        .check::before {
            content: "✅";
        }

        .cross::before {
            content: "❌";
        }

        code {
            background-color: #f1f3f4;
            padding: 1px 4px;
            border-radius: 3px;
            font-family: "Courier New", monospace;
            font-size: 0.9em;
        }

        pre {
            background-color: #f1f3f4;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
            margin: 10px 0;
            font-size: 0.85em;
        }

        pre code {
            background: none;
            padding: 0;
        }

        a {
            color: #1a73e8;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        footer {
            margin-top: 30px;
            padding-top: 16px;
            border-top: 1px solid #e8eaed;
            text-align: center;
            color: #5f6368;
            font-size: 0.85em;
        }

        .contact {
            background-color: #f8f9fa;
            padding: 12px 16px;
            border-radius: 6px;
            margin: 12px 0;
        }

        .contact p {
            margin-bottom: 4px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
        }

        .info-item {
            margin-bottom: 8px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 16px 12px;
            }

            h1 {
                font-size: 1.5em;
            }

            h2 {
                font-size: 1.2em;
            }

            h3 {
                font-size: 1.05em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>プライバシーポリシー</h1>
            <p class="last-updated"><strong>最終更新日: 2025年10月1日</strong></p>
        </header>

        <main>
            <section class="section">
                <h2>はじめに</h2>
                <p>Team Calendar Switcher（以下「本拡張機能」）は、Googleカレンダーと連携してチームのカレンダーを簡単に切り替えられるChrome拡張機能です。本プライバシーポリシーは、本拡張機能がどのようにデータを収集、使用、保護するかを説明します。</p>
            </section>

            <section class="section">
                <h2>データの収集と使用</h2>
                
                <h3>収集するデータ</h3>
                <p>本拡張機能は、以下のデータを収集・使用します:</p>
                
                <ol>
                    <li>
                        <strong>Googleアカウント情報</strong>
                        <ul>
                            <li>メールアドレス</li>
                            <li>目的: ユーザー認証とカレンダーアクセスの識別</li>
                        </ul>
                    </li>
                    <li>
                        <strong>Googleカレンダーデータ</strong>
                        <ul>
                            <li>カレンダーのリスト（カレンダー名、ID）</li>
                            <li>空き/予定あり情報（Free/Busy情報）</li>
                            <li>目的: チームメンバーの空き状況を表示</li>
                        </ul>
                    </li>
                    <li>
                        <strong>ユーザー設定</strong>
                        <ul>
                            <li>チーム名</li>
                            <li>チームメンバーのメールアドレスとニックネーム</li>
                            <li>目的: ユーザーが作成したチーム設定の保存</li>
                        </ul>
                    </li>
                </ol>

                <h3>データの保存場所</h3>
                <ul>
                    <li><strong>ローカルストレージ</strong>: チーム設定は<code>chrome.storage.sync</code>に保存されます（Googleアカウントに紐づいて同期）</li>
                    <li><strong>メモリキャッシュ</strong>: 空き/予定あり情報は一時的にブラウザのメモリにキャッシュされます（最大60秒、ページリロードで消去）</li>
                    <li><strong>外部サーバー</strong>: 本拡張機能は独自のサーバーを使用せず、すべての処理はブラウザ内で完結します</li>
                </ul>
            </section>

            <section class="section">
                <h2>データの使用目的</h2>
                <p>収集したデータは以下の目的でのみ使用されます:</p>
                <ol>
                    <li>チームメンバーのカレンダー空き状況の表示</li>
                    <li>カレンダーの自動切り替え機能の提供</li>
                    <li>チーム設定の保存と同期</li>
                    <li>拡張機能の動作に必要な認証処理</li>
                </ol>
            </section>

            <section class="section">
                <h2>データの共有</h2>
                <div class="highlight">
                    <p>本拡張機能は、収集したデータを以下の通り扱います:</p>
                    <ul class="icon-list">
                        <li class="check"><strong>第三者への共有なし</strong>: 収集したデータは第三者と共有されません</li>
                        <li class="check"><strong>外部送信なし</strong>: データは外部サーバーに送信されません</li>
                        <li class="check"><strong>Google API経由のみ</strong>: カレンダーデータへのアクセスはGoogle Calendar API経由でのみ行われます</li>
                        <li class="check"><strong>ブラウザ内処理</strong>: すべてのデータ処理はユーザーのブラウザ内で完結します</li>
                    </ul>
                </div>
            </section>

            <section class="section">
                <h2>必要な権限とスコープ</h2>
                
                <h3>Chrome拡張機能の権限</h3>
                <div class="info-grid">
                    <p><strong>identity</strong>: Google OAuth認証によるログイン、アクセストークン取得</p>
                    <p><strong>storage</strong>: チーム設定を<code>chrome.storage.sync</code>に保存、デバイス間で同期</p>
                    <p><strong>tabs</strong>: Googleカレンダーのタブと連携、拡張機能の動作</p>
                    <p><strong>https://www.googleapis.com/*</strong>: Google Calendar APIへのアクセス、データ取得</p>
                    <p><strong>https://calendar.google.com/*</strong>: カレンダーページへのUI挿入</p>
                </div>

                <h3>OAuth スコープ</h3>
                <div class="info-grid">
                    <p><strong>calendar</strong>: カレンダーの表示/非表示の切り替え、チーム切り替え時の自動表示</p>
                    <p><strong>calendar.freebusy</strong>: 空き/予定あり情報の取得、メンバーの空き状況表示</p>
                    <p><strong>userinfo.email</strong>: ユーザーのメールアドレス取得、認証識別</p>
                </div>
            </section>

            <section class="section">
                <h2>データのセキュリティ</h2>
                <ul>
                    <li><strong>HTTPS通信</strong>: すべてのAPI通信を暗号化</li>
                    <li><strong>トークンの安全な管理</strong>: Chromeセキュアストレージに保存</li>
                    <li><strong>最小権限の原則</strong>: 必要最小限の権限のみ要求</li>
                    <li><strong>定期的なセキュリティレビュー</strong>: コード監査を実施</li>
                </ul>
            </section>

            <section class="section">
                <h2>データの保持期間</h2>
                <ul>
                    <li><strong>チーム設定</strong>: アンインストールまで保持</li>
                    <li><strong>空き/予定ありキャッシュ</strong>: 最大60秒（自動削除）</li>
                    <li><strong>認証トークン</strong>: ログアウト/アンインストールまで保持</li>
                </ul>
            </section>

            <section class="section">
                <h2>ユーザーの権利</h2>

                <h3>データの削除</h3>
                <p><strong>個別削除</strong>: 拡張機能のUIからチームを削除 / <strong>全削除</strong>: <code>chrome://extensions/</code>で「データを削除」または拡張機能をアンインストール</p>

                <h3>アクセス権限の取り消し</h3>
                <p><a href="https://myaccount.google.com/permissions" target="_blank">Googleアカウントのセキュリティページ</a> → "Team Calendar" → "アクセス権を削除"</p>
            </section>

            <section class="section">
                <h2>Cookieとトラッキング</h2>
                <div class="highlight">
                    <ul class="icon-list">
                        <li class="cross">Cookieを使用しません</li>
                        <li class="cross">トラッキングを行いません</li>
                        <li class="cross">広告を表示しません</li>
                        <li class="cross">アナリティクスを使用しません</li>
                    </ul>
                </div>
            </section>

            <section class="section">
                <h2>その他の重要事項</h2>
                <p><strong>子どもの個人情報</strong>: 13歳未満の子どもから意図的に個人情報を収集しません。</p>
                <p><strong>ポリシーの変更</strong>: 必要に応じて更新します。重大な変更は拡張機能の更新ノートで通知します。</p>
            </section>

            <section class="section">
                <h2>お問い合わせ</h2>
                <div class="contact">
                    <p>プライバシーに関するご質問は: <a href="mailto:toshimitsu.kameda@kameda-hi.co.jp">toshimitsu.kameda@kameda-hi.co.jp</a></p>
                </div>
            </section>

            <section class="section">
                <h2>技術的な詳細（開発者向け）</h2>
                
                <h3>データフロー</h3>
                <pre><code>ユーザー → Chrome拡張機能
  → Google Calendar API (HTTPS)
  → ブラウザのメモリ/ストレージ</code></pre>

                <h3>キャッシュの実装</h3>
                <pre><code>// TTL: 60秒
const cache = new Map&lt;string, {
  data: FreeBusyData,
  timestamp: number
}&gt;();</code></pre>

                <h3>ストレージの内容例</h3>
                <pre><code>{
  "teams": [{
    "id": "uuid-v4",
    "name": "開発チーム",
    "members": [{
      "email": "user@example.com",
      "nickname": "山田太郎"
    }]
  }]
}</code></pre>
            </section>
        </main>

        <footer>
            <p><strong>本プライバシーポリシーに同意することで、上記の内容を理解し、受け入れたものとみなされます。</strong></p>
            <p style="margin-top: 10px;">© 2025 Team Calendar Switcher</p>
        </footer>
    </div>
</body>
</html>

