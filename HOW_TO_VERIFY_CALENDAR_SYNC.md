# Googleカレンダー連携の確認方法

## ✅ API連携は成功しています

ログから、以下が正常に動作していることが確認できました：
```
✅ カレンダーを購読しました: satoshi.tsukada@kameda-hi.co.jp
✅ カレンダーの表示を変更しました: satoshi.tsukada@kameda-hi.co.jp → 表示
```

## 📍 Googleカレンダーで確認する方法

### ステップ1: Googleカレンダーを開く

1. 新しいタブで https://calendar.google.com を開く
2. **必ず同じGoogleアカウント**（toshimitsu.kameda@kameda-hi.co.jp）でログインしていることを確認

### ステップ2: ページをリロード

**重要:** APIで追加したカレンダーを表示するには、ページのリロードが必要です

- `F5` キーを押す
- または `Cmd + R` (Mac) / `Ctrl + R` (Windows)
- または、ブラウザの更新ボタンをクリック

### ステップ3: 「他のカレンダー」セクションを確認

画面左側に以下のようなセクションがあります：

```
┌─────────────────────────┐
│ マイカレンダー           │
│   ├─ 自分のカレンダー    │
│   └─ 誕生日             │
│                          │
│ 他のカレンダー ▼         │ ◀️ ここを確認
│   ├─ ☑ satoshi.tsukada@kameda-hi.co.jp  │ ◀️ 追加されているはず
│   └─ ...                 │
└─────────────────────────┘
```

### ステップ4: もし「他のカレンダー」が折りたたまれていたら

```
他のカレンダー ▶  ◀️ このように「▶」になっている場合
```

**▶をクリック**して展開してください：

```
他のカレンダー ▼  ◀️ 「▼」になる
  ├─ ☑ satoshi.tsukada@kameda-hi.co.jp
  └─ ...
```

### ステップ5: カレンダーが見つかったら

- **☑ チェック付き** = メンバーの予定が表示されます
- **☐ チェックなし** = クリックしてオンにしてください

### ステップ6: カレンダー上で予定を確認

メンバー（satoshi.tsukada@kameda-hi.co.jp）に予定がある場合：

- カレンダーグリッド上に**色付きのブロック**で表示されます
- ブロックをクリックすると予定の詳細が見えます（共有設定による）

## 🎨 予定の表示例

```
  月曜日              火曜日              水曜日
┌─────────────┐  ┌─────────────┐  ┌─────────────┐
│             │  │             │  │             │
│ 09:00       │  │ 09:00       │  │ 09:00       │
│ ┌─────────┐ │  │             │  │ ┌─────────┐ │
│ │ 会議    │ │  │             │  │ │ 打ち合わせ│ │
│ │(satoshi)│ │  │             │  │ │(satoshi)│ │
│ └─────────┘ │  │             │  │ └─────────┘ │
│ 10:00       │  │ 10:00       │  │ 10:00       │
└─────────────┘  └─────────────┘  └─────────────┘
```

## ❓ もしカレンダーが見つからない場合

### チェックリスト

1. **正しいGoogleアカウントでログインしていますか？**
   - 右上のアイコンをクリックして、アカウントを確認
   - 拡張機能と同じアカウント（toshimitsu.kameda@kameda-hi.co.jp）である必要があります

2. **ページをリロードしましたか？**
   - `F5` を押してリロード
   - または、完全に新しいタブで開く

3. **「他のカレンダー」セクションは展開されていますか？**
   - ▶ をクリックして ▼ にする

4. **下にスクロールする必要があるかもしれません**
   - 「他のカレンダー」リストが長い場合、下の方にあるかもしれません

## 🔄 チーム切り替えの動作

### チーム「役員」を選択した時
```
他のカレンダー
  ☑ toshimitsu.kameda@kameda-hi.co.jp  (すでに表示)
  ☑ satoshi.tsukada@kameda-hi.co.jp    (新しく追加・表示)
```

### チーム「自分」に切り替えた時
```
他のカレンダー
  ☑ toshimitsu.kameda@kameda-hi.co.jp  (表示のまま)
  ☐ satoshi.tsukada@kameda-hi.co.jp    (非表示に切り替わる)
```

## 🎯 実際の使い方

1. **サイドパネルでチームを選択**
   - 「役員」をクリック
   - 同期完了を待つ

2. **Googleカレンダーで確認**
   - F5でリロード
   - メンバーの予定が表示される

3. **予定を作成**
   - Googleカレンダー上で好きな時間をクリック
   - 予定を作成
   - 参加者にメンバーを追加

4. **サイドパネルで空き時間を確認**
   - ヒートマップで最適な時間を探す
   - おすすめ時間帯を参考にする

## 💡 よくある質問

### Q: 予定が表示されない
**A:** メンバーが予定を共有していない可能性があります
- メンバーに「カレンダーの共有設定」を確認してもらう
- 最低限「予定の時間枠のみを表示」を有効にする必要があります

### Q: カレンダーは追加されているが、予定がない
**A:** 正常です
- メンバーに予定がない時間帯は空白で表示されます
- テストのために、自分で予定を作成してみてください

### Q: カレンダーを削除したい
**A:** Googleカレンダー側で削除できます
1. 「他のカレンダー」で対象のカレンダーにマウスオーバー
2. 「⋮」(3点メニュー) をクリック
3. 「このカレンダーを非表示」または「リストから削除」

## ✨ 成功のサイン

以下が確認できれば、完全に動作しています：

- ✅ サイドパネルでチームを切り替えると、Consoleにログが表示される
- ✅ Googleカレンダーの「他のカレンダー」にメンバーが追加される
- ✅ チーム切り替え時に、カレンダーの表示/非表示が切り替わる
- ✅ メンバーに予定がある場合、カレンダーグリッド上に表示される

すべて確認できましたか？ 🎉

